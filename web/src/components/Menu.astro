---
import clsx from 'clsx'
import { app } from 'src/app'
import { route } from 'utilities/routes'
import Text from 'components/Text.astro'
---

<sanserif-menu
  class="grid place-content-center fixed bg-black text-gray inset-0"
  style="display: none"
>
  <nav class="text-center max-w-xl">
    {app.global.menu.link.map((link, index) => (
      <Text
        as="a"
        size="2xl"
        class={clsx(
          'transition-opacity block overflow-hidden',
          route(link.url) !== Astro.url.pathname && 'opacity-25 hover:opacity-50'
        )}
        href={route(link.url)}
        data-nav-link
      >
        <sanserif-marquee
          class="flex transition-opacity justify-center"
          direction={index % 2 === 0 ? -100 : 100}
          pauseonhover={true}
        >
          {[...new Array(10)].map(() => (
            <div
              class:list={[
                'flex items-center whitespace-nowrap pl-4 before:mr-4 before:h-4',
                'before:w-4 before:bg-current before:rounded-full'
              ]}
            >
              {link.name}
            </div>
          ))}
        </sanserif-marquee>
      </Text>
    ))}
  </nav>
  <div
    class:list={[
      'variation-normal absolute inset-x-custom-space bottom-custom-space flex',
      'space-x-4 items-end justify-between sm:flex-col sm:items-center sm:space-x-0'
    ]}
  >
    <small class="overflow-y-hidden">
      <div data-nav-small>{app.global.informations.location}</div>
    </small>
    <div class="text-center">
      <div class="overflow-y-hidden">
        <a
          class="block"
          href={`mailto:${app.global.informations.email}`}
          data-nav-small
        >
          {app.global.informations.email}
        </a>
      </div>
      <div class="overflow-y-hidden">
        <a
          class="block"
          href={`tel:${app.global.informations.phone}`}
          data-nav-small
        >
          {app.global.informations.phone}
        </a>
      </div>
    </div>
    <div class="overflow-y-hidden">
      <small data-nav-small>{app.dictionary.rights}</small>
    </div>
  </div>
</sanserif-menu>
