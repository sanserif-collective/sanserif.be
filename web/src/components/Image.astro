---
type Props = {
  width: number
  height: number
  as?: string
  src?: string
  alt?: string
  class?: string
  fit?: keyof typeof fits
  [x: string]: unknown
}

const fits = {
  'cover': 'object-cover',
  'container': 'object-contain'
}

const {
  src,
  alt,
  width,
  height,
  fit = 'cover',
  as: Tag = 'div',
  class: className,
  ...rest
} = Astro.props as Props
---

<Tag class:list={['relative', className]} {...rest}>
  <svg viewBox={`0 0 ${width} ${height}`}></svg>
  <img
    src={src}
    alt={alt}
    height={height}
    width={width}
    class:list={['absolute inset-0 h-full w-full', fits[fit]]}
  >
</Tag>
