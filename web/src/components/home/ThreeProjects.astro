---
import ProjectCard from 'components/ProjectCard.astro'
import { cloudinary } from 'src/cloudinary'
import type { Home } from 'types/routes/home'

type Props = {
  projects: Home.Projects.Components.ThreeProjects
}

const { projects } = Astro.props as Props

const project1 = projects.project1.data.attributes
const project2 = projects.project2.data.attributes
const project3 = projects.project3.data.attributes

const image1 = cloudinary.image(project1.cover.data.attributes.provider_metadata.public_id)
const image2 = cloudinary.image(project2.cover.data.attributes.provider_metadata.public_id)
const image3 = cloudinary.image(project3.cover.data.attributes.provider_metadata.public_id)
---

<article class="items-end row-start-8 row-end-12 portrait:items-start portrait:col-span-8">
  <ProjectCard
    src={image1.toURL()}
    class="w-[24.5vh] max-w-md"
    width={220}
    height={300}
    project={project1}
  />
</article>

<article
  class:list={[
    'items-end row-start-9 row-end-12 pl-custom-space mb-10 portrait:pl-0',
    'portrait:mb-0 portrait:col-start-2 portrait:col-span-6'
  ]}
>
  <ProjectCard
    src={image2.toURL()}
    class="w-[16vh] max-w-xs"
    width={142}
    height={188}
    project={project2}
  />
</article>

<article class="row-start-2 row-end-8 portrait:col-end-13 portrait:col-span-9 portrait:justify-end">
  <ProjectCard
    src={image3.toURL()}
    class="w-[34.5vh] max-w-xl"
    width={310}
    height={410}
    project={project3}
  />
</article>
