---
import Container from 'components/Container.astro';
import Image from 'components/Image.astro';
import Text from 'components/Text.astro';
import type { Shared } from 'types/shared';

type Props = {
  name: string;
  content: Shared.Project.Header;
  services: Shared.Service[];
};

const { content, name, services }: Props = Astro.props;
---

<Container
  as="header"
  class:list={[
    'portrait:children:row-auto portrait:children:col-start-2 portrait:children:col-end-12',
    'portrait:children:pl-0 portrait:space-y-custom-space-double',
  ]}
>
  <sanserif-skew class="flex items-end row-start-3 row-end-12 mt-custom-space-double">
    <Image
      src={content.image.data.attributes.url}
      height={630}
      width={460}
      class="w-[50vh] portrait:w-[50vw]"
    />
  </sanserif-skew>
  <sanserif-skew class="pl-custom-space row-start-5">
    <Text as="h1" size="3xl">{name}</Text>
  </sanserif-skew>
  <div class="row-start-8 pl-[25vw]">
    <Text class="max-w-lg">{content.text}</Text>
  </div>
  {
    services.length ? (
      <ul class="row-start-11 pl-custom-space flex items-end space-x-2">
        {services.map(({ attributes }) => (
          <li class="before:content-['â€”'] first:before:hidden before:mr-2">{attributes.name}</li>
        ))}
      </ul>
    ) : (
      ''
    )
  }
</Container>
